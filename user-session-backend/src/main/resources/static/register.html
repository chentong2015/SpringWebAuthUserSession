<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <link rel="shortcut icon" href="#">
   </head>
   <body>
      <h1>Register Web Page</h1>
      <div>
         User ID: <input name="userId" id="userId" type="text"/> <br><br>
         Username: <input name="username" id="username" type="text"/> <br><br>
         Password: <input name="password" id="password" type="password"/> <br><br>
         Fist Name: <input name="firstname" id="firstname" type="text"/> <br><br>
         Last Name: <input name="lastname" id="lastname" type="text"/> <br><br>
      </div>
      <button id="RegisterUser">Register Account</button>
      
      <br><br>
      <button type="button" onclick="window.location.href='login.html'">Back To Login</button>

      <script>
          var registerButton = document.getElementById("RegisterUser");
          registerButton.addEventListener("click", function (e) {
             const id = document.getElementById("userId").value;
             const username = document.getElementById("username").value;
             const password = document.getElementById("password").value;
             const firstname = document.getElementById("firstname").value;
             const lastname = document.getElementById("lastname").value;

             fetch('http://localhost:8080/api/register', {
                  method: 'POST',
                  headers: {
                     'Content-Type': 'application/json; charset=utf-8'
                  },
                  body: JSON.stringify({
                     "id": id,
                     "username": username,
                     "password": password,
                     "firstname": firstname,
                     "lastname": lastname
                  })
               })
               .then(response => response.json())
               .then(response => console.log(response));

             window.location.href="user.html";
        });
      </script>

   </body>
</html>