<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <link rel="shortcut icon" href="#">
   </head>
   <body>
      <h1>Login Page</h1>
      <div>
         Username: <input name="username" id="username" type="text"/> <br><br>
         Password: <input name="password" id="password" type="password"/> <br><br>
         <button id="LoginUser">Login Account</button>
      </div>
      <br>
      Please create a new account firstly:
      <button type="button" onclick="window.location.href='register.html'">Register Account</button>
      <br><br>
      Visit Public Page
      <button type="button" onclick="window.location.href='public.html'">Public Space</button>

      <script>
          var loginButton = document.getElementById("LoginUser");
          loginButton.addEventListener("click", function (e) {
              const username = document.getElementById("username").value;
              const password = document.getElementById("password").value;

              fetch('http://localhost:8080/api/login?username=' + username + '&password=' + password,
                {
                   method: 'POST',
                })
                .then(response => console.log(response))
                .then(response => console.log(JSON.stringify(response)));

              // 根据用户类型跳转到不同页面
              if (username == 'admin') {
                  window.location.href="admin.html";
              } else {
                  window.location.href="user.html";
              }
          });
      </script>
   </body>
</html>